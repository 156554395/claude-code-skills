---
name: novel-writer
description: 小说写作助手。触发：写小说/创作小说/生成小说/帮我写个小说。工作流：需求收集（类型/风格/字数）→AI生成大纲（世界观/人物/剧情/章节规划）→用户确认→自动逐章生成→一章一个文件保存。支持玄幻、仙侠、都市、科幻、历史、武侠、网游、灵异、军事、竞技等主流网文类型，面向新手作者。
---

# 小说写作助手技能

## 技能触发条件

- "写小说" / "创作小说" / "生成小说" / "帮我写个小说"
- "小说大纲" / "小说生成器" / "网文创作"
- 参数化：`写小说，类型=玄幻，字数=10万，风格=热血`

## 核心工作流

### 阶段一：需求收集（交互式问答）

**必填问题：**

1. **小说类型**（单选）
   - 玄幻、仙侠、都市、科幻、历史、武侠、网游、灵异、军事、竞技

2. **风格定位**（单选）
   - 热血爽文、轻松搞笑、深沉黑暗、悬疑烧脑、情感治愈

3. **预计字数**（输入或选择）
   - 5万字、10万字、20万字、30万字、自定义

**选填问题：**

4. **核心创意/主题**（可选）
   - 用户可以描述初步想法，如"重生复仇"、"系统流"、"废柴逆袭"等
   - 若未提供，AI 根据类型自动选择经典套路

5. **主角设定偏好**（可选）
   - 性格、背景、特殊能力等
   - 若未提供，AI 根据风格自动生成

### 阶段二：大纲生成

**AI 自动生成完整大纲，包含以下模块：**

#### 1. 基础信息
- 小说类型、风格定位、预计字数、章节数量（按每章3000字计算）
- 小说标题（AI 生成或用户指定）

#### 2. 世界观设定
根据类型生成相应的世界观：

**玄幻/仙侠：**
- 修仙等级体系（练气、筑基、金丹、元婴等）
- 宗门势力划分
- 灵石/丹药/法宝体系

**都市：**
- 背景设定（现代都市/异能都市/商战）
- 主角身份定位
- 社会阶层关系

**科幻：**
- 科技等级/未来设定
- 星际势力/机甲/异能体系
- 时间线设定

**历史：**
- 朝代背景
- 官制/军事体系
- 重大历史事件融入

#### 3. 人物设定

**主角：**
- 姓名、年龄、性格特征
- 背景/身世
- 金手指/特殊能力（如有）
- 核心目标/动机

**重要配角**（3-5人）：
- 角色、性格、与主角关系
- 在剧情中的作用

**反派：**
- 主要反派设定
- 与主角的冲突来源

#### 4. 剧情结构

采用标准网文三幕结构：

**第一幕：开篇**（约10%篇幅）
- 世界观引入
- 主角登场
- 初始矛盾/金手指获得
- 第一个小高潮

**第二幕：发展**（约70%篇幅）
- 主线推进
- 实力提升/人物成长
- 多个子剧情/副本
- 伏笔埋设
- 中期大高潮

**第三幕：高潮与结局**（约20%篇幅）
- 矛盾总爆发
- 终极对决
- 问题解决
- 结局收尾/悬念设置

#### 5. 章节规划

**每章包含：**
- 章节标题
- 核心剧情点（约100字描述）
- 预计字数

**章节数量计算：**
```
章节数 = ceil(预计字数 / 3000)
```

**示例：**
```
第1章：废柴少年
- 主角林枫在青阳宗外门备受欺凌
- 意外获得神秘戒指
- 戒指中封印上古强者残魂

第2章：拜师学艺
- 上古强者传授修仙功法
- 林枫突破练气三层
- 引起外门执事注意
...
```

### 阶段三：大纲确认

**展示格式：**
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📖 小说大纲
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

【基础信息】
标题：《九天剑神》
类型：玄幻 | 风格：热血爽文
预计字数：10万字 | 章节数：33章

【世界观设定】
修仙等级：练气、筑基、金丹、元婴、化神、炼虚、合体、大乘、渡劫
宗门势力：青阳宗（主角所在）、血魔殿（反派）、散修联盟
...

【人物设定】
主角：林枫，17岁，外门弟子，性格坚韧不拔
金手指：上古剑尊残魂（传授剑道）
...

【剧情结构】
第一幕（1-5章）：废柴崛起
- 开篇展示主角受欺凌
- 获得金手指
- 第一次打脸反击
...

第二幕（6-28章）：成长之路
- 宗门大比崭露头角
- 探索秘境获得机缘
- 与血魔殿冲突升级
...

第三幕（29-33章）：巅峰对决
- 血魔殿大举入侵
- 林枫力挽狂澜
- 击杀反派成为传说
...

【章节规划】
第1章：废柴少年 - 主角林枫在青阳宗外门备受欺凌，意外获得神秘戒指...
第2章：拜师学艺 - 上古强者传授修仙功法，林枫突破练气三层...
...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**确认方式：**
- 询问用户：`大纲看起来如何？需要修改的地方请告诉我，确认后我将开始生成小说。`
- 用户可以：
  - 确认 → 进入章节生成
  - 要求修改局部 → AI 调整后再次展示
  - 要求重新生成 → AI 全新生成大纲

### 阶段四：章节生成

**生成策略：**

1. **逐章生成** - 按章节规划顺序生成
2. **保持连贯** - 生成时参考前几章内容，确保：
   - 人物性格一致
   - 剧情逻辑连贯
   - 伏笔有呼应
3. **网文风格** - 遵循网文写作套路（详见下方）
4. **质量控制** - 每章生成后自动检查：
   - 字数是否达标（±20%浮动）
   - 是否有明显的逻辑问题
   - 章末是否有悬念钩子

**进度显示：**
```
开始生成小说内容...
预计生成 33 章，每章约 3000 字

进度：[████████░░░░░░░░░░░] 3/33 章
正在生成：第3章《一鸣惊人》
```

**保存方式：**
- 小说名称作为目录：`./novels/小说标题/`
- 每章一个文件保存：
  - `./novels/小说标题/001章.md`
  - `./novels/小说标题/002章.md`
  - `./novels/小说标题/003章.md`
  - ...
- 文件格式：
```markdown
# 第1章 章节标题

正文内容...
...
```

**完成后提示：**
```
✅ 小说生成完成！
📁 保存位置：./novels/九天剑神/
📊 实际字数：102,456 字
📝 章节数：33 章
📂 文件数量：33个（一章一个文件）
⏱️ 生成耗时：约15分钟

文件结构：
├── 001章.md
├── 002章.md
├── 003章.md
├── 004章.md
├── 005章.md
├── ...
└── 033章.md
```

## 网文风格写作指南

### 黄金法则

AI 生成内容时必须遵循以下原则：

#### 1. 黄金三章
- 前三章必须抓住读者
- 交代清楚：主角是谁、有什么金手指、初始矛盾是什么
- 第一个打脸/爽点必须在3章内出现

#### 2. 爽点节奏
- 每3-5章一个小爽点（打脸、获得宝物、突破境界等）
- 每10章左右一个大爽点（大胜、大仇得报、重大突破）
- 压抑-爆发循环：先压抑读者情绪，再集中释放

#### 3. 悬念设置
- **章末钩子**：每章结尾留下悬念或问题
- 示例："就在这时，一道黑影从天而降..."
- "林枫万万没想到，眼前的人竟然是..."

#### 4. 情绪调动
- 不平则鸣：主角受欺凌后反击
- 期待落空再反转：看似成功实则陷阱，或看似绝望实则转机
- 身份反差：废柴实则天才，小人物实则大人物

#### 5. 伏笔与回收
- 重要信息要埋伏笔，不要突兀出现
- 伏笔要在后续章节中回收
- 神秘人物/物品要逐步揭示

### 不同类型的写作要点

| 类型 | 核心要素 | 经典套路 |
|------|----------|----------|
| 玄幻/仙侠 | 修炼等级、宗门、秘境、法宝 | 废柴逆袭、秘境机缘、宗门大比、跨界征战 |
| 都市 | 现实背景、商业/职场/异能 | 重生抄股、神医下山、战神归来、商战打脸 |
| 科幻 | 科技设定、星际/机甲/异能 | 星际争霸、机甲战斗、时间旅行、末世生存 |
| 历史 | 朝代背景、官制、军事 | 穿越改命、造反称帝、保家卫国、权谋斗争 |
| 武侠 | 江湖、武功、门派 | 身世之谜、武功秘籍、江湖恩怨、华山论剑 |
| 网游 | 游戏设定、装备、技能 | 游戏穿越、满级账号、隐藏职业、全服争霸 |

### 写作禁忌

❌ **不要：**
- 开篇大段环境描写
- 主角性格反复无常
- 逻辑硬伤（前后矛盾）
- 重复相同的表达
- 长篇说教或世界观解释
- 爽点间隔太长（超过5章无爽点）

✅ **要：**
- 开篇即冲突或悬念
- 保持人物性格一致
- 检查剧情逻辑
- 使用多样化表达
- 用对话和行动展示世界观
- 保持爽点节奏

## AI 执行指南

### 快速模式示例

**用户：** 写个小说

**AI 流程：**
1. 进入需求收集，逐一询问类型、风格、字数
2. 收集完成后生成大纲
3. 展示大纲并确认
4. 确认后开始生成章节
5. 完成后提示保存位置

### 参数化模式示例

**用户：** 写小说，类型=玄幻，字数=10万，风格=热血，主题=废柴逆袭

**AI 流程：**
1. 解析参数，跳过已填写的问题
2. 询问未填写的选填项（如主角设定）
3. 生成大纲并确认
4. 自动生成章节

### 大纲修改示例

**用户：** 大纲中主角名字改成叶尘，加个青梅竹马的女角色

**AI：**
1. 修改大纲中相应内容
2. 重新展示修改后的大纲
3. 再次确认

### 关键注意事项

1. **需求收集** - 必须逐一询问，不要一次性抛出所有问题
2. **大纲生成** - 根据类型选择合适的经典套路
3. **确认机制** - 大纲必须用户确认后才生成章节
4. **连贯性** - 生成时保持前文参考，确保逻辑一致
5. **进度反馈** - 生成过程中实时显示进度
6. **错误处理** - 遇到问题及时提示用户

## 错误处理

| 问题 | 处理方式 |
|------|----------|
| 用户输入过于模糊 | 提供示例选项，引导用户选择 |
| 大纲生成不满意 | 提供重新生成或局部修改选项 |
| 生成中断（如字数过多） | 支持断点续传，从中断章节继续 |
| 文件写入失败 | 检查./novels目录权限，提示用户解决 |
| 内容连贯性问题 | AI 自动检查前后文，确保逻辑一致 |

## 边界情况处理

**字数异常：**
- < 1万字 → 提示：`字数较少，建议至少5万字以展开完整剧情，是否继续？`
- > 50万字 → 提示：`字数较多，生成时间较长，建议分批生成或确认后继续`

**类型兼容：**
- 都市 + 修仙 → 确认是`都市修仙`类型
- 科幻 + 历史 → 确认优先选择哪个类型

**无主题创意：**
- 根据类型自动选择经典套路：
  - 玄幻：废柴逆袭
  - 都市：重生复仇
  - 科幻：末世生存
  - 历史：穿越改命

## 质量保证机制

**大纲自检：**
- [ ] 世界观完整（有等级体系/势力划分）
- [ ] 人物设定清晰（主角有目标/动机）
- [ ] 剧情结构合理（起承转合完整）
- [ ] 章节规划详细（每章有核心剧情点）

**章节自检：**
- [ ] 字数达标（每章3000字±20%）
- [ ] 章末有悬念钩子
- [ ] 爽点节奏合理（3-5章一个小爽点）
- [ ] 人物性格一致
- [ ] 剧情逻辑连贯
